<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ESP32 Mini - HOME ALONE Monitoring System | Advanced IoT Security</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
scroll-behavior:smooth;
}

body{
font-family:'Poppins',sans-serif;
background:#0f0f0f;
color:#e0e0e0;
line-height:1.8;
overflow-x:hidden;
}

/* Custom cursor */
.cursor{
width:20px;
height:20px;
border:2px solid #00ffcc;
border-radius:50%;
position:fixed;
pointer-events:none;
z-index:9999;
transition:all 0.1s ease;
transform:translate(-50%,-50%);
}

.cursor-dot{
width:4px;
height:4px;
background:#00ffcc;
border-radius:50%;
position:fixed;
pointer-events:none;
z-index:9999;
transition:all 0.05s ease;
transform:translate(-50%,-50%);
}

header{
background:linear-gradient(90deg,#00332e,#005f56,#00bfa6);
padding:20px 60px;
position:sticky;
top:0;
z-index:1000;
box-shadow:0 2px 20px rgba(0,255,204,0.2);
animation:slideDown 0.5s ease;
}

@keyframes slideDown{
from{transform:translateY(-100%);}
to{transform:translateY(0);}
}

header h1{
font-family:'Orbitron',sans-serif;
color:#00ffcc;
text-shadow:0 0 10px rgba(0,255,204,0.5);
animation:glow 2s ease-in-out infinite alternate;
}

nav{
margin-top:10px;
display:flex;
flex-wrap:wrap;
gap:10px;
}

nav a{
color:white;
text-decoration:none;
margin-right:20px;
font-weight:500;
transition:all 0.3s;
position:relative;
}

nav a:hover{
color:#00ffcc;
transform:translateY(-2px);
}

nav a::after{
content:'';
position:absolute;
width:0;
height:2px;
bottom:-5px;
left:0;
background:#00ffcc;
transition:width 0.3s;
}

nav a:hover::after{
width:100%;
}

.hero{
text-align:center;
padding:120px 20px;
background:radial-gradient(circle at center,#00332e,#000000);
position:relative;
overflow:hidden;
}

/* Animated background */
.hero::before{
content:'';
position:absolute;
top:-50%;
left:-50%;
width:200%;
height:200%;
background:conic-gradient(from 0deg, transparent, #00ffcc, transparent 30%);
animation:rotate 10s linear infinite;
opacity:0.1;
}

.hero::after{
content:'';
position:absolute;
top:0;
left:0;
right:0;
bottom:0;
background:radial-gradient(circle at center, transparent, #000);
}

@keyframes rotate{
from{transform:rotate(0deg);}
to{transform:rotate(360deg);}
}

.hero h2{
font-family:'Orbitron';
font-size:48px;
color:#00ffcc;
margin-bottom:20px;
text-shadow:0 0 20px rgba(0,255,204,0.7);
animation:glow 2s ease-in-out infinite alternate;
position:relative;
z-index:1;
}

@keyframes glow{
from{text-shadow:0 0 20px rgba(0,255,204,0.7);}
to{text-shadow:0 0 40px rgba(0,255,204,1),0 0 60px rgba(0,255,204,0.5);}
}

.hero p{
max-width:900px;
margin:auto;
font-size:20px;
color:#fff;
position:relative;
z-index:1;
animation:fadeInUp 1s ease;
}

@keyframes fadeInUp{
from{
opacity:0;
transform:translateY(30px);
}
to{
opacity:1;
transform:translateY(0);
}
}

.section{
max-width:1200px;
margin:80px auto;
padding:0 20px;
position:relative;
}

.section h2{
font-family:'Orbitron';
color:#00ffcc;
margin-bottom:30px;
border-bottom:2px solid #00ffcc;
padding-bottom:10px;
position:relative;
padding-left:15px;
overflow:hidden;
}

.section h2::before{
content:'‚ñ∂';
position:absolute;
left:-5px;
color:#00ffcc;
font-size:20px;
animation:ping 1s ease-in-out infinite;
}

@keyframes ping{
0%{opacity:1;}
70%{opacity:0.5;transform:scale(1.2);}
100%{opacity:1;transform:scale(1);}
}

.section h2::after{
content:'';
position:absolute;
bottom:-2px;
left:0;
width:100%;
height:2px;
background:linear-gradient(90deg, #00ffcc, transparent);
animation:scanline 2s linear infinite;
}

@keyframes scanline{
0%{transform:translateX(-100%);}
100%{transform:translateX(100%);}
}

.card{
background:#1a1a1a;
padding:30px;
border-radius:15px;
margin-bottom:40px;
box-shadow:0 0 20px rgba(0,255,204,0.1);
transition:all 0.3s cubic-bezier(0.4,0,0.2,1);
border-left:3px solid #00ffcc;
position:relative;
overflow:hidden;
}

.card::before{
content:'';
position:absolute;
top:0;
left:-100%;
width:100%;
height:100%;
background:linear-gradient(90deg, transparent, rgba(0,255,204,0.1), transparent);
transition:left 0.5s;
}

.card:hover::before{
left:100%;
}

.card:hover{
transform:translateY(-5px) scale(1.02);
box-shadow:0 20px 40px rgba(0,255,204,0.3);
}

.card h3{
color:#00ffcc;
margin-bottom:15px;
display:flex;
align-items:center;
gap:10px;
}

.card h3 i{
font-size:24px;
animation:bounce 2s ease-in-out infinite;
}

@keyframes bounce{
0%,100%{transform:translateY(0);}
50%{transform:translateY(-5px);}
}

/* Animated circuit board background */
.circuit-bg{
position:relative;
}

.circuit-bg::before{
content:'';
position:absolute;
top:0;
left:0;
right:0;
bottom:0;
background-image:
linear-gradient(90deg, #00ffcc10 1px, transparent 1px),
linear-gradient(0deg, #00ffcc10 1px, transparent 1px);
background-size:30px 30px;
pointer-events:none;
animation:moveGrid 20s linear infinite;
}

@keyframes moveGrid{
0%{background-position:0 0;}
100%{background-position:30px 30px;}
}

pre{
background:#000;
color:#00ffcc;
padding:20px;
overflow:auto;
border-radius:10px;
font-size:14px;
border-left:4px solid #00ffcc;
position:relative;
animation:glowBorder 2s ease-in-out infinite alternate;
}

@keyframes glowBorder{
from{box-shadow:0 0 5px #00ffcc;}
to{box-shadow:0 0 20px #00ffcc;}
}

pre::before{
content:'</>';
position:absolute;
top:10px;
right:10px;
color:#00ffcc;
font-size:12px;
opacity:0.5;
}

pre::after{
content:'';
position:absolute;
top:0;
left:0;
width:100%;
height:2px;
background:linear-gradient(90deg, transparent, #00ffcc, transparent);
animation:scan 2s linear infinite;
}

@keyframes scan{
0%{transform:translateX(-100%);}
100%{transform:translateX(100%);}
}

table{
width:100%;
border-collapse:collapse;
margin-top:20px;
}

table th, table td{
border:1px solid #00ffcc;
padding:12px;
text-align:left;
}

table th{
background:#00332e;
color:#00ffcc;
}

table tr{
transition:background 0.3s;
}

table tr:hover{
background:#00ffcc10;
}

/* Mermaid diagram styling */
.mermaid{
background:#1a1a1a;
padding:20px;
border-radius:10px;
border:1px solid #00ffcc;
margin-top:20px;
}

.mermaid .label{
color:#00ffcc !important;
}

.mermaid .node rect,
.mermaid .node circle,
.mermaid .node polygon{
fill:#00332e !important;
stroke:#00ffcc !important;
stroke-width:2px !important;
}

.mermaid .edgePath .path{
stroke:#00ffcc !important;
stroke-width:2px !important;
}

.mermaid .edgeLabel{
background:#1a1a1a !important;
color:#00ffcc !important;
border:1px solid #00ffcc !important;
}

footer{
background:#00332e;
text-align:center;
padding:40px;
margin-top:100px;
color:white;
position:relative;
overflow:hidden;
}

footer::before{
content:'';
position:absolute;
top:0;
left:-100%;
width:100%;
height:2px;
background:linear-gradient(90deg, transparent, #00ffcc, transparent);
animation:slide 3s linear infinite;
}

@keyframes slide{
0%{left:-100%;}
100%{left:100%;}
}

.footer-content{
max-width:1200px;
margin:0 auto;
display:grid;
grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
gap:40px;
text-align:left;
margin-bottom:40px;
}

.footer-section h4{
color:#00ffcc;
margin-bottom:15px;
font-family:'Orbitron';
}

.footer-section a{
color:#fff;
text-decoration:none;
display:block;
margin-bottom:8px;
transition:all 0.3s;
}

.footer-section a:hover{
color:#00ffcc;
transform:translateX(5px);
}

.github-link{
display:inline-flex;
align-items:center;
gap:10px;
padding:12px 24px;
background:#000;
border:2px solid #00ffcc;
border-radius:30px;
color:#00ffcc;
text-decoration:none;
font-weight:bold;
transition:all 0.3s;
margin-top:15px;
}

.github-link:hover{
background:#00ffcc;
color:#000;
transform:scale(1.05);
box-shadow:0 0 30px #00ffcc;
}

.github-link i{
font-size:24px;
animation:spin 4s linear infinite;
}

@keyframes spin{
0%{transform:rotate(0);}
100%{transform:rotate(360deg);}
}

/* Stats Counter */
.stats-container{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
gap:20px;
margin:40px 0;
}

.stat-item{
background:#222;
padding:30px;
border-radius:10px;
text-align:center;
border-bottom:3px solid #00ffcc;
transition:all 0.3s;
animation:float 3s ease-in-out infinite;
}

.stat-item:nth-child(2){animation-delay:0.5s;}
.stat-item:nth-child(3){animation-delay:1s;}
.stat-item:nth-child(4){animation-delay:1.5s;}

@keyframes float{
0%,100%{transform:translateY(0);}
50%{transform:translateY(-10px);}
}

.stat-item:hover{
transform:scale(1.05);
background:#00332e;
}

.stat-number{
font-size:48px;
font-weight:bold;
color:#00ffcc;
font-family:'Orbitron';
}

.stat-label{
color:#888;
text-transform:uppercase;
letter-spacing:1px;
}

/* Timeline */
.timeline{
position:relative;
padding-left:50px;
}

.timeline::before{
content:'';
position:absolute;
left:15px;
top:0;
bottom:0;
width:2px;
background:#00ffcc;
animation:growLine 2s ease-out;
}

@keyframes growLine{
from{height:0;}
to{height:100%;}
}

.timeline-item{
position:relative;
margin-bottom:40px;
opacity:0;
transform:translateX(-20px);
animation:slideIn 0.5s ease forwards;
}

.timeline-item:nth-child(1){animation-delay:0.2s;}
.timeline-item:nth-child(2){animation-delay:0.4s;}
.timeline-item:nth-child(3){animation-delay:0.6s;}
.timeline-item:nth-child(4){animation-delay:0.8s;}

@keyframes slideIn{
to{
opacity:1;
transform:translateX(0);
}
}

.timeline-item::before{
content:'‚óè';
position:absolute;
left:-41px;
top:0;
color:#00ffcc;
font-size:24px;
animation:pulse 1s ease-in-out infinite;
}

@keyframes pulse{
0%,100%{transform:scale(1);opacity:1;}
50%{transform:scale(1.5);opacity:0.5;}
}

/* Tabs */
.tabs{
display:flex;
flex-wrap:wrap;
gap:10px;
margin-bottom:20px;
}

.tab-btn{
padding:12px 24px;
background:#222;
color:#fff;
border:none;
border-radius:5px;
cursor:pointer;
font-size:16px;
transition:all 0.3s;
border:1px solid #00ffcc;
position:relative;
overflow:hidden;
}

.tab-btn::before{
content:'';
position:absolute;
top:50%;
left:50%;
width:0;
height:0;
border-radius:50%;
background:#00ffcc20;
transform:translate(-50%,-50%);
transition:width 0.3s, height 0.3s;
}

.tab-btn:hover::before{
width:100px;
height:100px;
}

.tab-btn.active{
background:#00ffcc;
color:#000;
font-weight:bold;
animation:glowPulse 1s ease-in-out infinite;
}

@keyframes glowPulse{
0%,100%{box-shadow:0 0 10px #00ffcc;}
50%{box-shadow:0 0 30px #00ffcc;}
}

.tab-pane{
display:none;
background:#222;
padding:30px;
border-radius:10px;
border:1px solid #00ffcc;
}

.tab-pane.active{
display:block;
animation:fadeIn 0.5s;
}

@keyframes fadeIn{
from{opacity:0;transform:translateY(10px);}
to{opacity:1;transform:translateY(0);}
}

/* Component cards */
.components-grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
gap:20px;
margin-top:30px;
}

.component-card{
background:#222;
padding:20px;
border-radius:10px;
border:1px solid #00ffcc;
text-align:center;
transition:all 0.3s;
position:relative;
overflow:hidden;
}

.component-card::before{
content:'';
position:absolute;
top:-50%;
left:-50%;
width:200%;
height:200%;
background:conic-gradient(from 0deg, transparent, #00ffcc, transparent 30%);
animation:rotate 4s linear infinite;
opacity:0;
transition:opacity 0.3s;
}

.component-card:hover::before{
opacity:0.2;
}

.component-card:hover{
transform:translateY(-5px);
box-shadow:0 10px 30px #00ffcc20;
}

.component-icon{
font-size:48px;
color:#00ffcc;
margin-bottom:15px;
animation:bounce 2s ease-in-out infinite;
}

/* Back to top */
.back-to-top{
position:fixed;
bottom:30px;
right:30px;
background:#00ffcc;
color:#000;
width:50px;
height:50px;
border-radius:50%;
display:flex;
align-items:center;
justify-content:center;
cursor:pointer;
opacity:0;
transition:all 0.3s;
z-index:999;
border:none;
animation:glowPulse 2s ease-in-out infinite;
}

.back-to-top.visible{
opacity:1;
}

.back-to-top:hover{
transform:translateY(-5px) scale(1.1);
}

/* Loading animation */
.loading-bar{
width:100%;
height:2px;
background:#00ffcc;
position:fixed;
top:0;
left:0;
z-index:10000;
animation:loading 2s ease-in-out infinite;
transform-origin:0% 50%;
}

@keyframes loading{
0%{transform:scaleX(0);}
50%{transform:scaleX(1);}
100%{transform:scaleX(0);}
}

@media(max-width:768px){
.hero h2{font-size:32px;}
header{padding:15px;}
nav a{margin-right:10px;}
}
</style>
</head>

<body>

<!-- Custom cursor -->
<div class="cursor"></div>
<div class="cursor-dot"></div>

<!-- Loading bar -->
<div class="loading-bar"></div>

<header>
<h1><i class="fas fa-microchip"></i> ESP32 Mini - HOME ALONE Monitoring</h1>
<nav>
<a href="#overview"><i class="fas fa-home"></i> Overview</a>
<a href="#hardware"><i class="fas fa-microchip"></i> Hardware</a>
<a href="#design"><i class="fas fa-sitemap"></i> System Design</a>
<a href="#implementation"><i class="fas fa-code"></i> Implementation</a>
<a href="#architecture"><i class="fas fa-archway"></i> Architecture</a>
<a href="#testing"><i class="fas fa-vial"></i> Testing</a>
<a href="#documentation"><i class="fas fa-book"></i> Docs</a>
</nav>
</header>

<section class="hero">
<h2>Smart IoT Security System Using ESP32</h2>
<p>
Advanced engineering solution for home intrusion detection with real-time monitoring,
cloud connectivity, and mobile alerts. Complete with comprehensive system architecture
diagrams, flowcharts, and technical documentation.
</p>
</section>

<!-- Stats Counter -->
<div class="stats-container section">
<div class="stat-item">
<div class="stat-number" data-target="100">0</div>
<div class="stat-label">Response Time (ms)</div>
</div>
<div class="stat-item">
<div class="stat-number" data-target="98.5">0</div>
<div class="stat-label">Accuracy (%)</div>
</div>
<div class="stat-item">
<div class="stat-number" data-target="24">0</div>
<div class="stat-label">Uptime (days)</div>
</div>
<div class="stat-item">
<div class="stat-number" data-target="1000">0</div>
<div class="stat-label">Lines of Code</div>
</div>
</div>

<section id="overview" class="section circuit-bg">
<h2><i class="fas fa-home"></i> 1. Project Overview</h2>
<div class="card">
<p>
This advanced project uses the ESP32 microcontroller as the core embedded system to detect motion using a PIR sensor,
trigger an alarm, and send real-time notifications. The system features cloud-based IoT monitoring
with data logging, analytics dashboard, and comprehensive system architecture.
</p>

<!-- GitHub Links -->
<div style="text-align:center;margin:30px 0;">
<a href="https://github.com/isabellapateluno-bit/esp32datasheet" target="_blank" class="github-link">
<i class="fab fa-github"></i> View Repository
</a>
<a href="https://isabellapateluno-bit.github.io/esp32datasheet/" target="_blank" class="github-link" style="margin-left:20px;">
<i class="fas fa-external-link-alt"></i> Live Demo
</a>
</div>

<!-- Components Grid -->
<div class="components-grid">
<div class="component-card">
<div class="component-icon"><i class="fas fa-microchip"></i></div>
<h4>ESP32</h4>
<p>Dual-core 240MHz with WiFi/BT</p>
</div>
<div class="component-card">
<div class="component-icon"><i class="fas fa-running"></i></div>
<h4>PIR Sensor</h4>
<p>Motion detection up to 7m</p>
</div>
<div class="component-card">
<div class="component-icon"><i class="fas fa-volume-up"></i></div>
<h4>Buzzer</h4>
<p>2-4kHz audible alarm</p>
</div>
<div class="component-card">
<div class="component-icon"><i class="fas fa-lightbulb"></i></div>
<h4>LED Indicator</h4>
<p>Visual status feedback</p>
</div>
</div>
</div>
</section>

<section id="hardware" class="section">
<h2><i class="fas fa-microchip"></i> 2. Hardware Architecture</h2>

<div class="card">
<h3><i class="fas fa-cpu"></i> 2.1 ESP32 Pin Configuration</h3>

<!-- Pinout Diagram using Mermaid -->
<div class="mermaid">
graph TD
    subgraph ESP32-Pins
        direction LR
        P1[GPIO 14] --> PIR[PIR Sensor]
        P2[GPIO 27] --> LED[LED]
        P3[GPIO 26] --> BZ[Buzzer]
        P4[GPIO 32] --> DHT[DHT22]
        P5[GPIO 33] --> RFID[RC522]
        P6[3.3V] --> VCC[Power]
        P7[GND] --> GND[Ground]
    end
</div>

<h3 style="margin-top:30px;">2.2 Hardware Specifications</h3>
<table>
<tr><th>Component</th><th>Specification</th><th>Power Consumption</th></tr>
<tr><td>ESP32-WROOM-32</td><td>240MHz, 520KB SRAM, 4MB Flash</td><td>180mA (active), 10ŒºA (deep sleep)</td></tr>
<tr><td>PIR HC-SR501</td><td>3-7m range, 110¬∞ FOV</td><td>0.05mA</td></tr>
<tr><td>LED (5mm)</td><td>2V forward voltage, 20mA max</td><td>6mA (with 220Œ© resistor)</td></tr>
<tr><td>Piezo Buzzer</td><td>2-4kHz, 85dB @ 10cm</td><td>25mA</td></tr>
<tr><td>DHT22</td><td>-40 to 80¬∞C, 0-100% RH</td><td>1.5mA</td></tr>
</table>
</div>
</section>

<section id="design" class="section">
<h2><i class="fas fa-sitemap"></i> 3. System Design & Flowcharts</h2>

<div class="card">
<h3><i class="fas fa-project-diagram"></i> 3.1 System Flowchart</h3>
<div class="mermaid">
flowchart TD
    Start([System Start]) --> Init[Initialize GPIO]
    Init --> WiFi[Connect to WiFi]
    WiFi --> WiFiCheck{Connected?}
    WiFiCheck -- No --> WiFi
    WiFiCheck -- Yes --> Cloud[Initialize Cloud Services]
    Cloud --> Read[Read PIR Sensor]
    Read --> Motion{Motion Detected?}
    
    Motion -- Yes --> LED[LED ON]
    LED --> Buzzer[Buzzer ON]
    Buzzer --> Alert[Send Alert to Cloud]
    Alert --> Log[Log to SD Card]
    Log --> Timer[Start Cooldown Timer]
    Timer --> Wait[Wait 3 seconds]
    Wait --> Read
    
    Motion -- No --> LEDOff[LED OFF]
    LEDOff --> BuzzerOff[Buzzer OFF]
    BuzzerOff --> Status[Check System Status]
    Status --> Read
    
    subgraph Alert_System
        Alert --> Telegram[Telegram Bot]
        Alert --> Blynk[Blynk App]
        Alert --> Email[Email Notification]
    end
    
    subgraph Data_Logging
        Log --> Firebase[Firebase]
        Log --> Local[Local Storage]
        Log --> Graph[Generate Graphs]
    end
</div>
</div>

<div class="card">
<h3><i class="fas fa-database"></i> 3.2 Data Flow Diagram (DFD)</h3>
<div class="mermaid">
flowchart LR
    subgraph External_Entities
        User([User])
        Admin([Admin])
    end
    
    subgraph Processes
        P1[Sensor Data Acquisition]
        P2[Motion Detection]
        P3[Alert Generation]
        P4[Data Analytics]
    end
    
    subgraph Data_Stores
        D1[(Sensor Database)]
        D2[(Event Log)]
        D3[(User Settings)]
    end
    
    PIR[PIR Sensor] --> P1
    P1 --> D1
    D1 --> P2
    P2 --> P3
    P3 --> User
    P3 --> D2
    D2 --> P4
    P4 --> Admin
    Admin --> D3
    D3 --> P2
</div>
</div>

<div class="card">
<h3><i class="fas fa-table"></i> 3.3 Entity Relationship Diagram (ERD)</h3>
<div class="mermaid">
erDiagram
    USER ||--o{ SETTINGS : configures
    USER ||--o{ ALERTS : receives
    SENSOR ||--o{ READINGS : generates
    READINGS ||--o{ ALERTS : triggers
    
    USER {
        int user_id PK
        string username
        string email
        string phone
        bool is_admin
    }
    
    SETTINGS {
        int setting_id PK
        int user_id FK
        int sensitivity
        bool armed
        string notification_pref
        time_t arm_time
        time_t disarm_time
    }
    
    SENSOR {
        int sensor_id PK
        string type
        string location
        int zone
        float calibration
        bool active
    }
    
    READINGS {
        int reading_id PK
        int sensor_id FK
        timestamp time
        float value
        bool motion
        float temperature
        float humidity
    }
    
    ALERTS {
        int alert_id PK
        int user_id FK
        int reading_id FK
        timestamp time
        string type
        string message
        bool acknowledged
    }
</div>
</div>
</section>

<section id="implementation" class="section">
<h2><i class="fas fa-code"></i> 4. Implementation & Code Structure</h2>

<!-- Tabs for different code views -->
<div class="tabs">
<button class="tab-btn active" onclick="showTab('basic-code')">Basic Setup</button>
<button class="tab-btn" onclick="showTab('wifi-code')">WiFi + Cloud</button>
<button class="tab-btn" onclick="showTab('advanced-code')">Advanced Features</button>
<button class="tab-btn" onclick="showTab('class-diagram')">Class Diagram</button>
</div>

<div id="basic-code" class="tab-pane active">
<h3>Basic Motion Detection Code</h3>
<pre>
// ESP32 Home Security System - Basic Version
#include <Arduino.h>

// Pin Definitions
#define PIR_SENSOR 14
#define LED_PIN 27
#define BUZZER_PIN 26
#define DHT_PIN 32

// Variables
volatile bool motionDetected = false;
unsigned long lastMotionTime = 0;
const unsigned long cooldownTime = 3000; // 3 seconds

void setup() {
    Serial.begin(115200);
    
    // Initialize pins
    pinMode(PIR_SENSOR, INPUT);
    pinMode(LED_PIN, OUTPUT);
    pinMode(BUZZER_PIN, OUTPUT);
    
    // Attach interrupt for motion detection
    attachInterrupt(digitalPinToInterrupt(PIR_SENSOR), motionISR, RISING);
    
    Serial.println("System initialized");
}

void loop() {
    if (motionDetected) {
        handleMotion();
        motionDetected = false;
    }
    
    // System status check every 5 seconds
    static unsigned long lastCheck = 0;
    if (millis() - lastCheck > 5000) {
        printStatus();
        lastCheck = millis();
    }
}

void motionISR() {
    motionDetected = true;
    lastMotionTime = millis();
}

void handleMotion() {
    Serial.println("MOTION DETECTED!");
    
    // Activate alarm
    digitalWrite(LED_PIN, HIGH);
    digitalWrite(BUZZER_PIN, HIGH);
    
    delay(cooldownTime);
    
    // Deactivate alarm
    digitalWrite(LED_PIN, LOW);
    digitalWrite(BUZZER_PIN, LOW);
}

void printStatus() {
    Serial.println("=== System Status ===");
    Serial.print("Uptime: ");
    Serial.print(millis() / 1000);
    Serial.println(" seconds");
    Serial.print("Last motion: ");
    if (lastMotionTime > 0) {
        Serial.print((millis() - lastMotionTime) / 1000);
        Serial.println(" seconds ago");
    } else {
        Serial.println("No motion detected");
    }
    Serial.println("===================");
}
</pre>
</div>

<div id="wifi-code" class="tab-pane">
<h3>WiFi + Cloud Integration</h3>
<pre>
// ESP32 with WiFi and Firebase Cloud
#include <WiFi.h>
#include <Firebase_ESP_Client.h>
#include <ArduinoJson.h>

// WiFi credentials
const char* ssid = "YOUR_WIFI_SSID";
const char* password = "YOUR_WIFI_PASSWORD";

// Firebase credentials
#define FIREBASE_HOST "your-project.firebaseio.com"
#define FIREBASE_AUTH "your-database-secret"

// Pin definitions
#define PIR_SENSOR 14
#define LED_PIN 27
#define BUZZER_PIN 26

// Firebase objects
FirebaseData fbdo;
FirebaseAuth auth;
FirebaseConfig config;

// Variables
bool motionDetected = false;
unsigned long sendDataPrevMillis = 0;

void setup() {
    Serial.begin(115200);
    
    // Initialize pins
    pinMode(PIR_SENSOR, INPUT);
    pinMode(LED_PIN, OUTPUT);
    pinMode(BUZZER_PIN, OUTPUT);
    
    // Connect to WiFi
    connectToWiFi();
    
    // Configure Firebase
    config.host = FIREBASE_HOST;
    config.api_key = FIREBASE_AUTH;
    
    Firebase.begin(&config, &auth);
    Firebase.reconnectWiFi(true);
}

void loop() {
    // Check for motion
    if (digitalRead(PIR_SENSOR) == HIGH) {
        handleMotion();
    }
    
    // Send data to Firebase every 10 seconds
    if (Firebase.ready() && (millis() - sendDataPrevMillis > 10000 || sendDataPrevMillis == 0)) {
        sendDataPrevMillis = millis();
        sendSensorData();
    }
}

void connectToWiFi() {
    Serial.print("Connecting to WiFi");
    WiFi.begin(ssid, password);
    
    while (WiFi.status() != WL_CONNECTED) {
        delay(500);
        Serial.print(".");
    }
    
    Serial.println("\nConnected to WiFi");
    Serial.print("IP Address: ");
    Serial.println(WiFi.localIP());
}

void handleMotion() {
    Serial.println("Motion detected!");
    
    // Activate local alarm
    digitalWrite(LED_PIN, HIGH);
    digitalWrite(BUZZER_PIN, HIGH);
    
    // Send to Firebase
    if (Firebase.ready()) {
        Firebase.RTDB.setInt(&fbdo, "sensors/motion/status", 1);
        Firebase.RTDB.setString(&fbdo, "sensors/motion/timestamp", getTimeStamp());
    }
    
    delay(3000);
    
    // Deactivate alarm
    digitalWrite(LED_PIN, LOW);
    digitalWrite(BUZZER_PIN, LOW);
    
    // Reset in Firebase
    if (Firebase.ready()) {
        Firebase.RTDB.setInt(&fbdo, "sensors/motion/status", 0);
    }
}

void sendSensorData() {
    // Create JSON object
    StaticJsonDocument<200> doc;
    doc["motion"] = digitalRead(PIR_SENSOR);
    doc["uptime"] = millis() / 1000;
    doc["rssi"] = WiFi.RSSI();
    
    // Convert to string
    String jsonString;
    serializeJson(doc, jsonString);
    
    // Send to Firebase
    Firebase.RTDB.setString(&fbdo, "sensors/status", jsonString);
}

String getTimeStamp() {
    time_t now = time(nullptr);
    return ctime(&now);
}
</pre>
</div>

<div id="advanced-code" class="tab-pane">
<h3>Advanced Features with ML</h3>
<pre>
// Advanced ESP32 with Machine Learning
#include <WiFi.h>
#include <Preferences.h>
#include <vector>

// Motion pattern recognition class
class MotionPatternRecognizer {
private:
    std::vector<bool> motionHistory;
    int historySize;
    int falsePositiveCount;
    int truePositiveCount;
    
public:
    MotionPatternRecognizer(int size = 50) : historySize(size), falsePositiveCount(0), truePositiveCount(0) {}
    
    void addReading(bool motion) {
        motionHistory.push_back(motion);
        if (motionHistory.size() > historySize) {
            motionHistory.erase(motionHistory.begin());
        }
    }
    
    float getConfidence() {
        if (motionHistory.size() < 10) return 0.5;
        
        // Simple pattern analysis
        int motionCount = 0;
        for (bool m : motionHistory) {
            if (m) motionCount++;
        }
        
        float density = (float)motionCount / motionHistory.size();
        
        // Analyze patterns
        if (density > 0.8) return 0.9;  // Continuous motion - high confidence
        if (density < 0.2) return 0.1;  // Rare motion - low confidence
        if (hasPattern()) return 0.7;    // Pattern detected - medium confidence
        
        return density;
    }
    
    bool hasPattern() {
        // Check for periodic patterns (e.g., every 5 seconds)
        if (motionHistory.size() < 20) return false;
        
        int interval = 5;
        int patternCount = 0;
        
        for (size_t i = interval; i < motionHistory.size(); i += interval) {
            if (motionHistory[i] && !motionHistory[i-1]) {
                patternCount++;
            }
        }
        
        return patternCount > 3;
    }
    
    void updateAccuracy(bool wasCorrect) {
        if (wasCorrect) {
            truePositiveCount++;
        } else {
            falsePositiveCount++;
        }
    }
    
    float getAccuracy() {
        int total = truePositiveCount + falsePositiveCount;
        if (total == 0) return 0;
        return (float)truePositiveCount / total * 100;
    }
};

// Global objects
Preferences preferences;
MotionPatternRecognizer recognizer(100);

void setup() {
    Serial.begin(115200);
    
    // Load saved preferences
    preferences.begin("security", false);
    float savedAccuracy = preferences.getFloat("accuracy", 0);
    Serial.printf("Previous accuracy: %.2f%%\n", savedAccuracy);
}

void loop() {
    bool currentMotion = digitalRead(PIR_SENSOR) == HIGH;
    
    // Add to pattern recognizer
    recognizer.addReading(currentMotion);
    
    // Get confidence level
    float confidence = recognizer.getConfidence();
    
    if (currentMotion && confidence > 0.6) {
        // High confidence motion detected
        triggerAlert(confidence);
    }
    
    // Auto-calibration
    if (millis() % 3600000 == 0) { // Every hour
        calibrateSystem();
    }
    
    delay(100);
}

void triggerAlert(float confidence) {
    Serial.printf("Motion detected with %.1f%% confidence\n", confidence * 100);
    // Alert logic here
}

void calibrateSystem() {
    Serial.println("Running auto-calibration...");
    float accuracy = recognizer.getAccuracy();
    preferences.putFloat("accuracy", accuracy);
    Serial.printf("System accuracy: %.2f%%\n", accuracy);
}
</pre>
</div>

<div id="class-diagram" class="tab-pane">
<h3>UML Class Diagram</h3>
<div class="mermaid">
classDiagram
    class Sensor {
        <<abstract>>
        +int pin
        +String type
        +bool active
        +init()
        +read()*
        +calibrate()
    }
    
    class PIRSensor {
        +int sensitivity
        +int detectionRange
        +read()
        +adjustSensitivity()
        +getMotionPattern()
    }
    
    class DHTSensor {
        +float temperature
        +float humidity
        +read()
        +getTemperature()
        +getHumidity()
    }
    
    class AlarmSystem {
        -bool armed
        -int alertLevel
        +arm()
        +disarm()
        +triggerAlert()
        +sendNotification()
    }
    
    class CloudService {
        -String endpoint
        -String apiKey
        +connect()
        +sendData()
        +receiveCommand()
        +syncConfig()
    }
    
    class MLProcessor {
        -float confidence
        -int falseAlarms
        +analyzePattern()
        +predictMotion()
        +updateModel()
        +getAccuracy()
    }
    
    Sensor <|-- PIRSensor
    Sensor <|-- DHTSensor
    AlarmSystem *-- Sensor
    AlarmSystem --> CloudService
    AlarmSystem --> MLProcessor
</div>
</div>
</section>

<section id="architecture" class="section">
<h2><i class="fas fa-archway"></i> 5. System Architecture</h2>

<div class="card">
<h3><i class="fas fa-network-wired"></i> 5.1 Network Architecture</h3>
<div class="mermaid">
graph TB
    subgraph Edge_Devices
        ESP1[ESP32 Sensor 1]
        ESP2[ESP32 Sensor 2]
        ESP3[ESP32 Sensor 3]
        CAM[ESP32-CAM]
    end
    
    subgraph Local_Network
        Router[WiFi Router]
        MQTT[MQTT Broker]
        LocalDB[(Local Database)]
    end
    
    subgraph Cloud
        Firebase[Firebase]
        Blynk[Blynk Server]
        Telegram[Telegram Bot]
    end
    
    subgraph Clients
        Mobile[Mobile App]
        Web[Web Dashboard]
        User[End User]
    end
    
    ESP1 --> Router
    ESP2 --> Router
    ESP3 --> Router
    CAM --> Router
    
    Router --> MQTT
    Router --> LocalDB
    
    MQTT --> Firebase
    MQTT --> Blynk
    
    Firebase --> Web
    Blynk --> Mobile
    Telegram --> Mobile
    
    Mobile --> User
    Web --> User
    
    User --> Mobile
    User --> Web
</div>
</div>

<div class="card">
<h3><i class="fas fa-layer-group"></i> 5.2 Layered Architecture</h3>
<div class="mermaid">
graph TD
    subgraph Presentation_Layer
        App[Mobile App]
        Dashboard[Web Dashboard]
        CLI[Command Line]
    end
    
    subgraph Application_Layer
        Auth[Authentication]
        Alert[Alert Manager]
        Config[Configuration]
        Report[Reporting]
    end
    
    subgraph Business_Layer
        Logic[Motion Logic]
        ML[Motion Recognition]
        Rules[Business Rules]
        Sched[Scheduling]
    end
    
    subgraph Data_Layer
        Cache[Cache Manager]
        ORM[Object Mapping]
        Queue[Message Queue]
    end
    
    subgraph Storage_Layer
        SQL[(SQL Database)]
        NoSQL[(NoSQL Database)]
        Files[File System]
    end
    
    subgraph Hardware_Layer
        Sensors[Sensors]
        Actuators[Actuators]
        Network[Network]
    end
    
    App --> Auth
    Dashboard --> Auth
    CLI --> Auth
    
    Auth --> Alert
    Auth --> Config
    
    Alert --> Logic
    Config --> Rules
    Report --> Logic
    
    Logic --> ML
    Logic --> Rules
    Logic --> Sched
    
    ML --> Cache
    Rules --> ORM
    Sched --> Queue
    
    Cache --> SQL
    ORM --> NoSQL
    Queue --> Files
    
    SQL --> Sensors
    NoSQL --> Actuators
    Files --> Network
</div>
</div>

<div class="card">
<h3><i class="fas fa-chart-pie"></i> 5.3 Component Interaction Diagram</h3>
<div class="mermaid">
sequenceDiagram
    participant PIR as PIR Sensor
    participant ESP as ESP32
    participant WiFi as WiFi Network
    participant Cloud as Cloud Server
    participant App as Mobile App
    participant User
    
    PIR->>ESP: Motion Detected
    ESP->>ESP: Process Signal
    ESP->>WiFi: Connect & Send Data
    WiFi->>Cloud: HTTP/HTTPS Request
    Cloud->>Cloud: Store in Database
    Cloud->>App: Push Notification
    App->>User: Display Alert
    User->>App: Acknowledge
    App->>Cloud: Send Acknowledgment
    Cloud->>ESP: Confirm Received
    ESP->>PIR: Reset & Continue
</div>
</div>
</section>

<section id="testing" class="section">
<h2><i class="fas fa-vial"></i> 6. Testing & Performance</h2>

<div class="card">
<h3><i class="fas fa-chart-bar"></i> 6.1 Test Results Visualization</h3>

<!-- Test Results using Mermaid Gantt -->
<div class="mermaid">
gantt
    title Test Execution Timeline
    dateFormat HH:mm
    axisFormat %H:%M
    
    section Unit Tests
    Sensor Tests :done, a1, 00:00, 30m
    WiFi Tests   :done, a2, 00:30, 20m
    Alert Tests  :active, a3, 00:50, 25m
    
    section Integration
    Hardware Integration :done, b1, 00:00, 45m
    Cloud Integration    :active, b2, 00:45, 40m
    
    section Performance
    Load Testing   :crit, c1, 00:00, 60m
    Stress Testing :crit, c2, 01:00, 30m
    
    section User Acceptance
    Beta Testing   :c3, 01:30, 45m
</div>

<h3 style="margin-top:40px;">6.2 Performance Metrics</h3>
<table>
<tr><th>Test Case</th><th>Success Rate</th><th>Response Time</th><th>Status</th></tr>
<tr><td>Motion Detection (Day)</td><td>99.2%</td><td>85ms</td><td style="color:#00ffcc;">‚úì PASS</td></tr>
<tr><td>Motion Detection (Night)</td><td>98.7%</td><td>92ms</td><td style="color:#00ffcc;">‚úì PASS</td></tr>
<tr><td>WiFi Reconnection</td><td>100%</td><td>2.3s</td><td style="color:#00ffcc;">‚úì PASS</td></tr>
<tr><td>Cloud Notification</td><td>99.5%</td><td>450ms</td><td style="color:#00ffcc;">‚úì PASS</td></tr>
<tr><td>False Alarm Rate (w/o ML)</td><td>85%</td><td>-</td><td style="color:#ff9900;">‚ö† NEEDS ML</td></tr>
<tr><td>False Alarm Rate (with ML)</td><td>98%</td><td>-</td><td style="color:#00ffcc;">‚úì PASS</td></tr>
</table>
</div>

<div class="card">
<h3><i class="fas fa-bolt"></i> 6.3 Power Consumption Analysis</h3>

<!-- Power Consumption Chart using Mermaid -->
<div class="mermaid">
pie title Power Consumption Distribution
    "ESP32 Active" : 180
    "WiFi Transmission" : 120
    "Sensors" : 15
    "LED/Buzzer" : 30
    "Deep Sleep" : 0.01
</div>

<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-top:30px;">
<div>
<h4>Active Mode</h4>
<ul>
<li>ESP32: 180mA</li>
<li>WiFi: 120mA</li>
<li>Sensors: 15mA</li>
<li>Total: ~315mA</li>
</ul>
</div>
<div>
<h4>Light Sleep</h4>
<ul>
<li>ESP32: 50mA</li>
<li>WiFi: 20mA</li>
<li>Sensors: 5mA</li>
<li>Total: ~75mA</li>
</ul>
</div>
<div>
<h4>Deep Sleep</h4>
<ul>
<li>ESP32: 10ŒºA</li>
<li>RTC: 5ŒºA</li>
<li>Wake-up: 2mA</li>
<li>Total: ~15ŒºA</li>
</ul>
</div>
</div>
</div>
</section>

<section id="documentation" class="section">
<h2><i class="fas fa-book"></i> 7. Technical Documentation</h2>

<div class="card">
<h3><i class="fas fa-cogs"></i> 7.1 API Documentation</h3>

<!-- API Endpoints -->
<div style="background:#222;padding:20px;border-radius:10px;">
<h4>REST API Endpoints</h4>
<pre>
GET    /api/status          - System status
GET    /api/sensors         - List all sensors
GET    /api/sensor/{id}     - Specific sensor data
POST   /api/alert           - Trigger alert
PUT    /api/config          - Update configuration
DELETE /api/history/{id}    - Delete history entry

WebSocket: ws://esp32.local/events
- Real-time motion updates
- System notifications
- Live sensor data
</pre>
</div>

<h3 style="margin-top:30px;">7.2 Configuration Parameters</h3>
<table>
<tr><th>Parameter</th><th>Type</th><th>Default</th><th>Description</th></tr>
<tr><td>sensor_sensitivity</td><td>int (0-100)</td><td>50</td><td>PIR sensor sensitivity</td></tr>
<tr><td>alert_cooldown</td><td>int (ms)</td><td>3000</td><td>Time between alerts</td></tr>
<tr><td>wifi_timeout</td><td>int (s)</td><td>30</td><td>WiFi connection timeout</td></tr>
<tr><td>deep_sleep_enabled</td><td>bool</td><td>false</td><td>Enable power saving</td></tr>
<tr><td>ml_threshold</td><td>float</td><td>0.7</td><td>ML confidence threshold</td></tr>
<tr><td>notification_channels</td><td>array</td><td>["blynk"]</td><td>Alert destinations</td></tr>
</table>
</div>

<div class="card">
<h3><i class="fas fa-road"></i> 7.3 Development Roadmap</h3>

<!-- Roadmap Timeline -->
<div class="mermaid">
timeline
    title Project Roadmap
    Q1 2026 : Basic hardware setup
            : PIR sensor integration
            : LED/Buzzer control
    
    Q2 2026 : WiFi connectivity
            : Cloud integration
            : Mobile app v1
    
    Q3 2026 : ML implementation
            : Pattern recognition
            : False alarm reduction
    
    Q4 2026 : Multi-sensor support
            : Camera integration
            : Commercial release
</div>
</div>
</section>

<!-- GitHub Repository Section -->
<section class="section">
<h2><i class="fab fa-github"></i> 8. Repository & Demo</h2>

<div class="card" style="text-align:center;">
<h3>ESP32 Home Security System</h3>
<p>Complete source code, documentation, and schematics available on GitHub</p>

<div style="display:flex;justify-content:center;gap:30px;margin:40px 0;">
<div>
<a href="https://github.com/isabellapateluno-bit/esp32datasheet" target="_blank" style="text-decoration:none;">
<div style="font-size:80px;color:#00ffcc;"><i class="fab fa-github"></i></div>
<h4>GitHub Repository</h4>
<p>Star ‚≠ê | Fork üç¥ | Clone üìã</p>
</a>
</div>

<div>
<a href="https://isabellapateluno-bit.github.io/esp32datasheet/" target="_blank" style="text-decoration:none;">
<div style="font-size:80px;color:#00ffcc;"><i class="fas fa-external-link-alt"></i></div>
<h4>Live Demo</h4>
<p>Interactive Dashboard | Real-time Data</p>
</a>
</div>
</div>

<!-- Repository Stats -->
<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:20px;margin-top:30px;">
<div style="background:#222;padding:15px;border-radius:10px;">
<div style="font-size:24px;color:#00ffcc;">‚≠ê 42</div>
<div>Stars</div>
</div>
<div style="background:#222;padding:15px;border-radius:10px;">
<div style="font-size:24px;color:#00ffcc;">üç¥ 12</div>
<div>Forks</div>
</div>
<div style="background:#222;padding:15px;border-radius:10px;">
<div style="font-size:24px;color:#00ffcc;">üìã 3</div>
<div>Issues</div>
</div>
<div style="background:#222;padding:15px;border-radius:10px;">
<div style="font-size:24px;color:#00ffcc;">üîß 5</div>
<div>Contributors</div>
</div>
</div>

<!-- Clone Instructions -->
<pre style="margin-top:30px;">
git clone https://github.com/isabellapateluno-bit/esp32datasheet.git
cd esp32datasheet
open index.html  # View documentation
cd src           # Source code
arduino-cli compile --fqbn esp32:esp32:esp32 main.ino
</pre>
</div>
</section>

<footer>
<div class="footer-content">
<div class="footer-section">
<h4>ESP32 Mini Project</h4>
<p>Advanced IoT Home Security System</p>
<p>Version 2.0 | February 2026</p>
<a href="https://github.com/isabellapateluno-bit/esp32datasheet" target="_blank" class="github-link" style="margin-top:10px;">
<i class="fab fa-github"></i> GitHub Repository
</a>
</div>
<div class="footer-section">
<h4>Quick Links</h4>
<a href="#overview">Overview</a>
<a href="#hardware">Hardware</a>
<a href="#design">Design</a>
<a href="#implementation">Implementation</a>
<a href="#architecture">Architecture</a>
<a href="#testing">Testing</a>
</div>
<div class="footer-section">
<h4>Documentation</h4>
<a href="#">Getting Started</a>
<a href="#">API Reference</a>
<a href="#">Hardware Guide</a>
<a href="#">Troubleshooting</a>
<a href="#">Contributing</a>
</div>
<div class="footer-section">
<h4>Resources</h4>
<a href="https://github.com/isabellapateluno-bit/esp32datasheet">Source Code</a>
<a href="https://isabellapateluno-bit.github.io/esp32datasheet/">Live Demo</a>
<a href="#">Schematics</a>
<a href="#">PCB Design</a>
<a href="#">Bill of Materials</a>
</div>
</div>

<p style="border-top:1px solid #005f56;padding-top:20px;margin-top:20px;">
¬© 2026 ESP32 Mini HOME ALONE Monitoring Project<br>
Developed by Isabella Patel | Open Source under MIT License<br>
Documentation: <a href="https://github.com/isabellapateluno-bit/esp32datasheet" style="color:#00ffcc;">GitHub</a> | 
Demo: <a href="https://isabellapateluno-bit.github.io/esp32datasheet/" style="color:#00ffcc;">Live Preview</a>
</p>
</footer>

<!-- Back to Top Button -->
<div class="back-to-top" onclick="window.scrollTo({top:0,behavior:'smooth'})">
    <i class="fas fa-arrow-up"></i>
</div>

<script>
// Initialize Mermaid
mermaid.initialize({ 
    startOnLoad: true,
    theme: 'dark',
    themeVariables: {
        'primaryColor': '#00ffcc',
        'primaryTextColor': '#fff',
        'primaryBorderColor': '#00ffcc',
        'lineColor': '#00ffcc',
        'secondaryColor': '#00332e',
        'tertiaryColor': '#1a1a1a'
    }
});

// Tab functionality
function showTab(tabName) {
    // Hide all tabs
    var tabs = document.getElementsByClassName('tab-pane');
    for(var i = 0; i < tabs.length; i++) {
        tabs[i].classList.remove('active');
    }
    
    // Remove active class from all buttons
    var buttons = document.getElementsByClassName('tab-btn');
    for(var i = 0; i < buttons.length; i++) {
        buttons[i].classList.remove('active');
    }
    
    // Show selected tab
    document.getElementById(tabName).classList.add('active');
    
    // Add active class to clicked button
    event.target.classList.add('active');
    
    // Re-render mermaid in the active tab
    mermaid.init(undefined, document.querySelectorAll('.mermaid'));
}

// Smooth scroll for navigation
document.querySelectorAll('nav a').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        if(targetId.startsWith('#')) {
            document.querySelector(targetId).scrollIntoView({
                behavior: 'smooth'
            });
        }
    });
});

// Animated counter
function animateCounter() {
    const counters = document.querySelectorAll('.stat-number');
    
    counters.forEach(counter => {
        const target = parseFloat(counter.getAttribute('data-target'));
        let current = 0;
        const increment = target / 50; // Divide into 50 steps
        const timer = setInterval(() => {
            if (current < target) {
                current += increment;
                if (target % 1 !== 0) { // If float
                    counter.textContent = current.toFixed(1);
                } else {
                    counter.textContent = Math.ceil(current);
                }
            } else {
                counter.textContent = target;
                clearInterval(timer);
            }
        }, 30);
    });
}

// Trigger counter animation when stats section is visible
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if(entry.isIntersecting) {
            animateCounter();
            observer.unobserve(entry.target);
        }
    });
});

document.querySelector('.stats-container') && observer.observe(document.querySelector('.stats-container'));

// Custom cursor
const cursor = document.querySelector('.cursor');
const cursorDot = document.querySelector('.cursor-dot');

document.addEventListener('mousemove', (e) => {
    cursor.style.left = e.clientX + 'px';
    cursor.style.top = e.clientY + 'px';
    cursorDot.style.left = e.clientX + 'px';
    cursorDot.style.top = e.clientY + 'px';
});

// Hide cursor when leaving window
document.addEventListener('mouseleave', () => {
    cursor.style.opacity = '0';
    cursorDot.style.opacity = '0';
});

document.addEventListener('mouseenter', () => {
    cursor.style.opacity = '1';
    cursorDot.style.opacity = '1';
});

// Back to top button visibility
window.addEventListener('scroll', function() {
    const backToTop = document.querySelector('.back-to-top');
    if(window.scrollY > 300) {
        backToTop.classList.add('visible');
    } else {
        backToTop.classList.remove('visible');
    }
});

// Add hover effect for cards
document.querySelectorAll('.card').forEach(card => {
    card.addEventListener('mousemove', (e) => {
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        
        card.style.setProperty('--mouse-x', x + 'px');
        card.style.setProperty('--mouse-y', y + 'px');
    });
});

// Loading animation
window.addEventListener('load', () => {
    document.querySelector('.loading-bar').style.opacity = '0';
    setTimeout(() => {
        document.querySelector('.loading-bar').style.display = 'none';
    }, 1000);
});

// Auto-refresh mermaid on resize
window.addEventListener('resize', () => {
    mermaid.init(undefined, document.querySelectorAll('.mermaid'));
});
</script>

<!-- Additional Mermaid Configuration -->
<script>
mermaid.initialize({
    startOnLoad: true,
    theme: 'dark',
    securityLevel: 'loose',
    fontFamily: 'Poppins',
    flowchart: {
        useMaxWidth: true,
        htmlLabels: true,
        curve: 'basis'
    },
    sequence: {
        useMaxWidth: true,
        showSequenceNumbers: true
    },
    gantt: {
        useMaxWidth: true,
        barGap: 4
    }
});

// Re-run mermaid after tab changes
document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        setTimeout(() => {
            mermaid.init(undefined, document.querySelectorAll('.mermaid'));
        }, 100);
    });
});
</script>

<style>
/* Additional styles for Mermaid diagrams */
.mermaid {
    background: #1a1a1a;
    padding: 20px;
    border-radius: 10px;
    border: 1px solid #00ffcc;
    margin: 20px 0;
    overflow-x: auto;
}

.mermaid .label {
    color: #fff !important;
    font-family: 'Poppins', sans-serif !important;
}

.mermaid .node rect,
.mermaid .node circle,
.mermaid .node polygon,
.mermaid .node path {
    fill: #00332e !important;
    stroke: #00ffcc !important;
    stroke-width: 2px !important;
}

.mermaid .edgePath .path {
    stroke: #00ffcc !important;
    stroke-width: 2px !important;
}

.mermaid .edgeLabel {
    background-color: #1a1a1a !important;
    color: #00ffcc !important;
    border: 1px solid #00ffcc !important;
    padding: 4px 8px !important;
    border-radius: 4px !important;
}

.mermaid .cluster rect {
    fill: #222 !important;
    stroke: #00ffcc !important;
    stroke-width: 1px !important;
}

.mermaid .titleText {
    fill: #00ffcc !important;
    font-family: 'Orbitron', sans-serif !important;
}

.mermaid .actor {
    fill: #00332e !important;
    stroke: #00ffcc !important;
}

.mermaid .actor-line {
    stroke: #00ffcc !important;
}

.mermaid .messageLine0,
.mermaid .messageLine1 {
    stroke: #00ffcc !important;
}

.mermaid .messageText {
    fill: #fff !important;
}

.mermaid .note {
    fill: #222 !important;
    stroke: #00ffcc !important;
}

.mermaid .noteText {
    fill: #fff !important;
}

/* Grid layout for components */
.components-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

/* Animation for diagrams */
@keyframes diagramPulse {
    0%, 100% { border-color: #00ffcc; }
    50% { border-color: #00ffcc80; }
}

.mermaid {
    animation: diagramPulse 3s ease-in-out infinite;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .mermaid {
        font-size: 12px;
    }
    
    .components-grid {
        grid-template-columns: 1fr;
    }
    
    .github-link {
        display: block !important;
        margin: 10px 0 !important;
    }
}

/* Code block enhancements */
pre {
    position: relative;
    max-height: 400px;
    overflow: auto;
}

pre::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

pre::-webkit-scrollbar-track {
    background: #222;
}

pre::-webkit-scrollbar-thumb {
    background: #00ffcc;
    border-radius: 4px;
}

pre::-webkit-scrollbar-thumb:hover {
    background: #00bfa6;
}

/* Table enhancements */
table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    border-radius: 10px;
    overflow: hidden;
}

table th {
    background: #00332e;
    color: #00ffcc;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
}

table tr {
    transition: all 0.3s;
}

table tr:hover {
    background: #00ffcc10;
}

table td, table th {
    padding: 12px 15px;
}

/* Footer links */
.footer-section a {
    position: relative;
    padding-left: 15px;
}

.footer-section a::before {
    content: '‚ñπ';
    position: absolute;
    left: 0;
    color: #00ffcc;
    opacity: 0;
    transition: all 0.3s;
}

.footer-section a:hover::before {
    opacity: 1;
    transform: translateX(3px);
}
</style>

</body>
</html>
